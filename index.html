<!DOCTYPE html>
<html>
  <head>
    <title>Rock Paper Scissors Game</title>
  </head>
  <body>
    <script>
      // I see there are better ways to pull random numbers and apply them to an array of
      // strings, but I wanted to do as much with the skills I have *right now* as possible
      function computerPlay() {
        select = Math.random()
        if (select <= 0.33) {
          return 'rock';
          } else if (select >= 0.67) {
            return 'paper';
          } else {
            return 'scissors';
          }
      }
      
      function getUserRPS () {
        selection = prompt('Type rock, paper, or scissors');
        return selection.toLowerCase();
      }

      function playRound (playerSelection, computerSelection) {

        // execute callbacks and set as new local variables to be reused throughout game logic
        player = playerSelection();
        computer = computerSelection()

        // enable below console.log's to evaluate/confirm game logic
        // console.log(player);
        // console.log(computer);

        // game logic
        // alert player to win, loss, or tie
        // return score indicator of 1, -1, or 0 (win, loss, or tie)        
        if (computer === player) {
          alert('It\'s a tie!');
          return 0;
        } else if (player === 'rock') {
          if (computer === 'paper') {
            alert('You lose! Paper beats Rock!');
            return -1;
            } else {
              alert('You win! Rock beats Scissors!');
              return 1;
              }
          } else if (player === 'paper') {
            if (computer === 'scissors') {
              alert('You lose! Scissors beats Paper!');
              return -1;
              } else {
                alert('You win! Paper beats Rock!');
                return 1;
                }
          } else {
            if (computer === 'rock') {
              alert('You lose! Rock beats Scissors!');
              return -1;
            } else {
              alert('You win! Scissors beats Paper!');
              return 1;
            }
          }
      }

      function game(playerSelection, computerSelection) {

        // would like to explore using a while statement
        // pass the same arguments to the game function that are needed by the playRound function
        // pass arguments through to the playRound function
        // set 5 variables each equal to the result of 5 separate calls to the playRound function
        let res1 = playRound (playerSelection, computerSelection);
        let res2 = playRound (playerSelection, computerSelection);
        let res3 = playRound (playerSelection, computerSelection);
        let res4 = playRound (playerSelection, computerSelection);
        let res5 = playRound (playerSelection, computerSelection);

        // from the playRound function, a user win = 1, loss = -1, and tie =0
        // if the sum of the 5 calls is positive = user wins the game, if negative = computer wins, if 0 = tie game
        let score = res1 + res2 + res3 + res4 + res5;
        alert((score > 0) ? 'You win the game!' :
          (score < 0) ? 'You lost. Try again!' : 'Whoa! 5 ties?! Crazy!');
      }

      console.log(game(getUserRPS, computerPlay))
      
    </script>
  </body>
</html>