<!DOCTYPE html>
<html>
  <head>
    <title>Rock Paper Scissors Game</title>
    <link rel='stylesheet' type='text/css' href='assets/stylesheets/style.css'>
  </head>
  <body>
    <div class='container'>
      <!--rock button-->
      <div class='buttons' id='rock'></div><!--
        paper button
      --><div class='buttons' id='paper'></div><!--
        scissors button
      --><div class='buttons' id='scissors'></div>
      <div class='scoreboard'>
        <!--box containing current player score total-->
        <div class='score' id='player'>
          <p></p>
        </div><!--
          message displaying result of last round
        --><div id='rndResult'>
          <p></p>
        </div><!--
          box containing current computer score total
        --><div class='score' id='computer'>
          <p></p>
        </div>
      </div>
    </div>
    <script>

      const rockBtn = document.querySelector('#rock');
      const paperBtn = document.querySelector('#paper');
      const scissorsBtn = document.querySelector('#scissors');

      rockBtn.addEventListener('click', function () {playRound ('rock', computerPlay)});
      paperBtn.addEventListener('click', function () {playRound ('paper', computerPlay)});
      scissorsBtn.addEventListener('click', function () {playRound ('scissors', computerPlay)});

      // I see there are better ways to pull random numbers and apply them to an array of
      // strings, but I wanted to do as much with the skills I have *right now* as possible
      function computerPlay() {
        select = Math.random()
        if (select <= 0.33) {
          return 'rock';
          } else if (select >= 0.67) {
            return 'paper';
          } else {
            return 'scissors';
          }
      }
      
      let playerCounter = 0;
      let computerCounter = 0;

      const playerDiv = document.querySelector('#player > p');
      const computerDiv = document.querySelector('#computer > p');

      playerDiv.textContent = playerCounter;
      computerDiv.textContent = computerCounter;

      function playRound (playerSelection, computerSelection) {

        // execute callbacks and set as new local variables to be reused throughout game logic
        player = playerSelection;
        computer = computerSelection()

        let rndResult = document.querySelector('#rndResult > p');

        // enable below console.log's to evaluate/confirm game logic
        console.log("player: " + player);
        console.log("computer: " + computer);

        // game logic
        // alert player to win, loss, or tie
        // return score indicator of 1, -1, or 0 (win, loss, or tie)        
        if (computer === player) {
          rndResult.textContent = 'It\'s a tie!';
          return;
        } else if (player === 'rock') {
          if (computer === 'paper') {
            rndResult.textContent = 'You lose! Paper beats Rock!';
            computerCounter += 1;
            playerDiv.textContent = playerCounter;
            computerDiv.textContent = computerCounter;
            return;
            } else {
              rndResult.textContent = 'You win! Rock beats Scissors!';
              playerCounter += 1;
              playerDiv.textContent = playerCounter;
              computerDiv.textContent = computerCounter;
              return;
              }
          } else if (player === 'paper') {
            if (computer === 'scissors') {
              rndResult.textContent = 'You lose! Scissors beats Paper!';
              computerCounter += 1;
              playerDiv.textContent = playerCounter;
              computerDiv.textContent = computerCounter;
              return;
              } else {
                rndResult.textContent = 'You win! Paper beats Rock!';
                playerCounter += 1;
                playerDiv.textContent = playerCounter;
              computerDiv.textContent = computerCounter;
                return;
                }
          } else {
            if (computer === 'rock') {
              rndResult.textContent = 'You lose! Rock beats Scissors!';
              computerCounter += 1;
              playerDiv.textContent = playerCounter;
              computerDiv.textContent = computerCounter;
              return;
            } else {
              rndResult.textContent = 'You win! Scissors beats Paper!';
              playerCounter += 1;
              playerDiv.textContent = playerCounter;
              computerDiv.textContent = computerCounter;
              return;
            }
          }
      }

      /* per the 'dom manipulation' lesson - this logic removed

      function game(playerSelection, computerSelection) {

        // would like to explore using a while statement
        // pass the same arguments to the game function that are needed by the playRound function
        // pass arguments through to the playRound function
        // set 5 variables each equal to the result of 5 separate calls to the playRound function
        let res1 = playRound (playerSelection, computerSelection);
        let res2 = playRound (playerSelection, computerSelection);
        let res3 = playRound (playerSelection, computerSelection);
        let res4 = playRound (playerSelection, computerSelection);
        let res5 = playRound (playerSelection, computerSelection);

        // from the playRound function, a user win = 1, loss = -1, and tie =0
        // if the sum of the 5 calls is positive = user wins the game, if negative = computer wins, if 0 = tie game
        let score = res1 + res2 + res3 + res4 + res5;
        alert((score > 0) ? 'You win the game!' :
          (score < 0) ? 'You lost. Try again!' : 'Whoa! 5 ties?! Crazy!');
      }

      console.log(game(getUserRPS, computerPlay))
      */
      
    </script>
  </body>
</html>